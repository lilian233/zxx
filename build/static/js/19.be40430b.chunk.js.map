{"version":3,"sources":["scripts/mobx/comment.js","../node_modules/_antd-mobile@2.3.1@antd-mobile/lib/_util/exenv.js","../node_modules/_antd-mobile@2.3.1@antd-mobile/lib/textarea-item/style/css.js","../node_modules/_antd-mobile@2.3.1@antd-mobile/lib/textarea-item/index.js","scripts/views/addcomment/index.js"],"names":["Comment","observable","action","url","a","async","axios","get","res","goodList","data","result","console","log","comments","idx","forEach","item","i","commentList","comment","post","then","Object","defineProperty","exports","value","canUseDOM","window","document","createElement","IS_IOS","test","navigator","userAgent","require","_extends3","_interopRequireDefault","_defineProperty3","_classCallCheck3","_createClass3","_possibleConstructorReturn3","_inherits3","_classnames4","React","obj","__esModule","newObj","key","prototype","hasOwnProperty","call","_interopRequireWildcard","_rmcFeedback2","_exenv","__rest","s","e","t","p","indexOf","getOwnPropertySymbols","length","noop","regexAstralSymbols","TextareaItem","_React$Component","props","this","_this","__proto__","getPrototypeOf","focus","textareaRef","reAlignHeight","textareaDom","style","height","scrollHeight","onChange","target","setState","componentDidUpdate","onBlur","debounceTimeout","setTimeout","activeElement","currentTarget","body","scrollTop","onFocus","clearTimeout","onErrorClick","clearInput","state","defaultValue","nextProps","autoHeight","_classnames","_classnames2","_this2","_a","prefixCls","prefixListCls","editable","clear","error","children","className","count","labelNumber","title","otherProps","disabled","_state","hasCount","rows","wrapCls","labelCls","characterLength","arguments","undefined","replace","countSymbols","lengthCtrlProps","entValue","entLen","split","maxLength","ref","el","readOnly","activeClassName","onClick","Component","defaultProps","placeholder","module","Addcomments","observer","handleChange","textarea","addComment","history","push","show","search","src","image","name","description","oldPrice","price","sellCount","renderHeader","inline"],"mappings":"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","file":"static/js/19.be40430b.chunk.js","sourcesContent":["import { observable, action, computed, autorun } from \"mobx\"\r\nimport { axios } from \"&\"\r\nclass Comment {\r\n    @observable goodList = [];  // 结算购物车数据 \r\n    @observable commentList = {};  // 单条商品 \r\n    @observable comments = [];  // 结算购物车数据 \r\n    \r\n\r\n\r\n    @action getGoodList = async (url) => {\r\n        const res = await axios.get(url);\r\n        this.goodList = res.data.result;\r\n        console.log(this.goodList)\r\n    }\r\n    \r\n    @action getComment = async (url) => {\r\n        const res = await axios.get(url);\r\n        this.comments = res.data.result;\r\n        console.log(this.comments)\r\n    }\r\n    @action getCommentList = (idx) => (\r\n\r\n        this.goodList.forEach((item, i) => {\r\n            if (i == idx) {\r\n                this.commentList = item\r\n            }\r\n\r\n        })\r\n    )\r\n    @action addComment = (comment,commentList) => {\r\n\r\n        axios.post(\"/react/addComment\", {\r\n            comment,\r\n            commentList\r\n        }).then(res => {\r\n            // this.carList = this.carList.map((item) => {\r\n            //     if (item.id == id) {\r\n            //         item.count += flag ? 1 : -1;\r\n            //     }\r\n            //     return item;\r\n            // })\r\n        })\r\n    }\r\n\r\n}\r\nexport default new Comment()","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nvar canUseDOM = exports.canUseDOM = !!(typeof window !== 'undefined' && window.document && window.document.createElement);\nvar IS_IOS = exports.IS_IOS = canUseDOM && /iphone|ipad|ipod/i.test(window.navigator.userAgent);","'use strict';\n\nrequire('../../style/css');\n\nrequire('../../list/style/css');\n\nrequire('./index.css');","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _extends2 = require('babel-runtime/helpers/extends');\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _defineProperty2 = require('babel-runtime/helpers/defineProperty');\n\nvar _defineProperty3 = _interopRequireDefault(_defineProperty2);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _classnames3 = require('classnames');\n\nvar _classnames4 = _interopRequireDefault(_classnames3);\n\nvar _react = require('react');\n\nvar React = _interopRequireWildcard(_react);\n\nvar _rmcFeedback = require('rmc-feedback');\n\nvar _rmcFeedback2 = _interopRequireDefault(_rmcFeedback);\n\nvar _exenv = require('../_util/exenv');\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj['default'] = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar __rest = undefined && undefined.__rest || function (s, e) {\n    var t = {};\n    for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n    }if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n        if (e.indexOf(p[i]) < 0) t[p[i]] = s[p[i]];\n    }return t;\n};\n/* tslint:disable:jsx-no-multiline-js */\n\nfunction noop() {}\nfunction fixControlledValue(value) {\n    if (typeof value === 'undefined' || value === null) {\n        return '';\n    }\n    return value;\n}\nvar regexAstralSymbols = /[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|\\n/g;\nfunction countSymbols() {\n    var text = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n\n    return text.replace(regexAstralSymbols, '_').length;\n}\n\nvar TextareaItem = function (_React$Component) {\n    (0, _inherits3['default'])(TextareaItem, _React$Component);\n\n    function TextareaItem(props) {\n        (0, _classCallCheck3['default'])(this, TextareaItem);\n\n        var _this = (0, _possibleConstructorReturn3['default'])(this, (TextareaItem.__proto__ || Object.getPrototypeOf(TextareaItem)).call(this, props));\n\n        _this.focus = function () {\n            _this.textareaRef.focus();\n        };\n        _this.reAlignHeight = function () {\n            var textareaDom = _this.textareaRef;\n            textareaDom.style.height = ''; // 字数减少时能自动减小高度\n            textareaDom.style.height = textareaDom.scrollHeight + 'px';\n        };\n        _this.onChange = function (e) {\n            var value = e.target.value;\n            if ('value' in _this.props) {\n                _this.setState({ value: _this.props.value });\n            } else {\n                _this.setState({ value: value });\n            }\n            var onChange = _this.props.onChange;\n\n            if (onChange) {\n                onChange(value);\n            }\n            // 设置 defaultValue 时，用户输入不会触发 componentDidUpdate ，此处手工调用\n            _this.componentDidUpdate();\n        };\n        _this.onBlur = function (e) {\n            _this.debounceTimeout = setTimeout(function () {\n                if (document.activeElement !== _this.textareaRef) {\n                    _this.setState({\n                        focus: false\n                    });\n                }\n            }, 100);\n            var value = e.currentTarget.value;\n            if (_this.props.onBlur) {\n                // fix autoFocus item blur with flash\n                setTimeout(function () {\n                    // fix ios12 wechat browser click failure after input\n                    if (document.body) {\n                        document.body.scrollTop = document.body.scrollTop;\n                    }\n                }, 100);\n                _this.props.onBlur(value);\n            }\n        };\n        _this.onFocus = function (e) {\n            if (_this.debounceTimeout) {\n                clearTimeout(_this.debounceTimeout);\n                _this.debounceTimeout = null;\n            }\n            _this.setState({\n                focus: true\n            });\n            var value = e.currentTarget.value;\n            if (_this.props.onFocus) {\n                _this.props.onFocus(value);\n            }\n        };\n        _this.onErrorClick = function () {\n            if (_this.props.onErrorClick) {\n                _this.props.onErrorClick();\n            }\n        };\n        _this.clearInput = function () {\n            _this.setState({\n                value: ''\n            });\n            if (_this.props.onChange) {\n                _this.props.onChange('');\n            }\n        };\n        _this.state = {\n            focus: false,\n            value: props.value || props.defaultValue || ''\n        };\n        return _this;\n    }\n\n    (0, _createClass3['default'])(TextareaItem, [{\n        key: 'componentWillReceiveProps',\n        value: function componentWillReceiveProps(nextProps) {\n            if ('value' in nextProps) {\n                this.setState({\n                    value: fixControlledValue(nextProps.value)\n                });\n            }\n        }\n    }, {\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            if (this.props.autoHeight) {\n                this.reAlignHeight();\n            }\n        }\n    }, {\n        key: 'componentDidUpdate',\n        value: function componentDidUpdate() {\n            if (this.props.autoHeight && this.state.focus) {\n                this.reAlignHeight();\n            }\n        }\n    }, {\n        key: 'componentWillUnmount',\n        value: function componentWillUnmount() {\n            if (this.debounceTimeout) {\n                clearTimeout(this.debounceTimeout);\n                this.debounceTimeout = null;\n            }\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var _classnames,\n                _classnames2,\n                _this2 = this;\n\n            var _a = this.props,\n                prefixCls = _a.prefixCls,\n                prefixListCls = _a.prefixListCls,\n                editable = _a.editable,\n                style = _a.style,\n                clear = _a.clear,\n                children = _a.children,\n                error = _a.error,\n                className = _a.className,\n                count = _a.count,\n                labelNumber = _a.labelNumber,\n                title = _a.title,\n                onErrorClick = _a.onErrorClick,\n                autoHeight = _a.autoHeight,\n                defaultValue = _a.defaultValue,\n                otherProps = __rest(_a, [\"prefixCls\", \"prefixListCls\", \"editable\", \"style\", \"clear\", \"children\", \"error\", \"className\", \"count\", \"labelNumber\", \"title\", \"onErrorClick\", \"autoHeight\", \"defaultValue\"]);var disabled = otherProps.disabled;\n            var _state = this.state,\n                value = _state.value,\n                focus = _state.focus;\n\n            var hasCount = count > 0 && this.props.rows > 1;\n            var wrapCls = (0, _classnames4['default'])(className, prefixListCls + '-item', prefixCls + '-item', (_classnames = {}, (0, _defineProperty3['default'])(_classnames, prefixCls + '-disabled', disabled), (0, _defineProperty3['default'])(_classnames, prefixCls + '-item-single-line', this.props.rows === 1 && !autoHeight), (0, _defineProperty3['default'])(_classnames, prefixCls + '-error', error), (0, _defineProperty3['default'])(_classnames, prefixCls + '-focus', focus), (0, _defineProperty3['default'])(_classnames, prefixCls + '-has-count', hasCount), _classnames));\n            var labelCls = (0, _classnames4['default'])(prefixCls + '-label', (_classnames2 = {}, (0, _defineProperty3['default'])(_classnames2, prefixCls + '-label-2', labelNumber === 2), (0, _defineProperty3['default'])(_classnames2, prefixCls + '-label-3', labelNumber === 3), (0, _defineProperty3['default'])(_classnames2, prefixCls + '-label-4', labelNumber === 4), (0, _defineProperty3['default'])(_classnames2, prefixCls + '-label-5', labelNumber === 5), (0, _defineProperty3['default'])(_classnames2, prefixCls + '-label-6', labelNumber === 6), (0, _defineProperty3['default'])(_classnames2, prefixCls + '-label-7', labelNumber === 7), _classnames2));\n            var characterLength = countSymbols(value);\n            var lengthCtrlProps = {};\n            if (count > 0) {\n                // Note: If in the iOS environment of dev-tools, It will fail.\n                if (_exenv.IS_IOS) {\n                    var entValue = value ? value.replace(regexAstralSymbols, '_') : '';\n                    var entLen = entValue ? entValue.split('_').length - 1 : 0;\n                    lengthCtrlProps.maxLength = count + entLen - characterLength + (value ? value.length : 0);\n                } else {\n                    lengthCtrlProps.maxLength = count - characterLength + (value ? value.length : 0);\n                }\n            }\n            return React.createElement(\n                'div',\n                { className: wrapCls },\n                title && React.createElement(\n                    'div',\n                    { className: labelCls },\n                    title\n                ),\n                React.createElement(\n                    'div',\n                    { className: prefixCls + '-control' },\n                    React.createElement('textarea', (0, _extends3['default'])({ ref: function ref(el) {\n                            return _this2.textareaRef = el;\n                        } }, lengthCtrlProps, otherProps, { value: value, onChange: this.onChange, onBlur: this.onBlur, onFocus: this.onFocus, readOnly: !editable, style: style }))\n                ),\n                clear && editable && value && characterLength > 0 && React.createElement(\n                    _rmcFeedback2['default'],\n                    { activeClassName: prefixCls + '-clear-active' },\n                    React.createElement('div', { className: prefixCls + '-clear', onClick: this.clearInput })\n                ),\n                error && React.createElement('div', { className: prefixCls + '-error-extra', onClick: this.onErrorClick }),\n                hasCount && React.createElement(\n                    'span',\n                    { className: prefixCls + '-count' },\n                    React.createElement(\n                        'span',\n                        null,\n                        value ? characterLength : 0\n                    ),\n                    '/',\n                    count\n                )\n            );\n        }\n    }]);\n    return TextareaItem;\n}(React.Component);\n\nexports['default'] = TextareaItem;\n\nTextareaItem.defaultProps = {\n    prefixCls: 'am-textarea',\n    prefixListCls: 'am-list',\n    autoHeight: false,\n    editable: true,\n    disabled: false,\n    placeholder: '',\n    clear: false,\n    rows: 1,\n    onChange: noop,\n    onBlur: noop,\n    onFocus: noop,\n    onErrorClick: noop,\n    error: false,\n    labelNumber: 5\n};\nmodule.exports = exports['default'];","import \"./index.scss\"\r\nimport React, { Component } from \"react\"\r\nimport Head from \"~/components/head\"\r\nimport comment from \"~/mobx/comment\"\r\nimport { observer } from \"mobx-react\"\r\nimport {\r\n    List,\r\n    Card, WingBlank, WhiteSpace,\r\n    Button,\r\n    TextareaItem,\r\n    Radio\r\n} from \"antd-mobile\"\r\n\r\n@observer\r\nclass Addcomments extends Component {\r\n    state = {\r\n        value: 3,\r\n    };\r\n\r\n    handleChange = value => {\r\n        this.setState({ value });\r\n    };\r\n\r\n    onClick = () => {\r\n        if (this.textarea.state.value) {\r\n\r\n            comment.addComment(this.textarea.state.value, comment.commentList)\r\n            this.props.history.push('./commentlist')\r\n\r\n        } else {\r\n            console.log(66)\r\n        }\r\n    }\r\n    render() {\r\n\r\n\r\n        const {\r\n\r\n            commentList\r\n        } = comment\r\n        return (\r\n            <div>\r\n                <Head title=\"发表评论\" show={true} search={true}></Head>\r\n\r\n                <div className=\"d-box\">\r\n                    <img src={commentList.image} className=\"d-img\" />\r\n                    <p className=\"d-name\">{commentList.name}</p>\r\n                    <p className=\"d-desc\">{commentList.description}</p>\r\n                    <p className=\"d-oldPrice\">原价：<span>¥{commentList.oldPrice}.00</span></p>\r\n                    <p className=\"d-pbox\"><span className=\"d-price\">¥{commentList.price}.00</span><span className=\"d-sell\">已售{commentList.sellCount}份</span></p>\r\n\r\n                </div>\r\n                <List renderHeader={() => '发表你的评论'}  className=\"aa-addBox\">\r\n\r\n                    <TextareaItem\r\n                        className=\"aa-add\"\r\n                        ref={el => this.textarea = el}\r\n                        onChange={this.onChange}\r\n                        rows={5}\r\n                        count={100}\r\n                    />\r\n\r\n\r\n\r\n\r\n\r\n                    <Button className=\"cc-button\" inline onClick={this.onClick}>提交评论</Button>\r\n\r\n                </List>\r\n            </div>\r\n        )\r\n    }\r\n}\r\nexport default Addcomments"],"sourceRoot":""}
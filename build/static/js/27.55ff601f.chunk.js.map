{"version":3,"sources":["scripts/views/xinzengdizhi/index.js"],"names":["CustomChildren","props","onClick","style","backgroundColor","paddingLeft","className","display","height","lineHeight","position","borderBottom","flex","overflow","textOverflow","whiteSpace","children","textAlign","color","marginRight","extra","antdDistrict","districtData","require","Address","connect","state","userList","getIn","handleClick","pickerValue","a1","a3","filter","value","console","log","bingAddress1","push","label","val","map","ixx","i","bingAddress","toString","bigaddress","name","autoFocusInst","tel","inputRef","xiangXiAddress","xiangxi","mobile","sessionStorage","address","axios","post","then","res","data","type","history","this","Object","keys","forEach","index","itemLevel1","itemLevel2","code","cities","data2","districts","itemLevel3","title","show","search","clear","placeholder","ref","el","onChange","v","setState","onOk","Item","width","Component"],"mappings":"gUAOMA,EAAiB,SAAAC,GAAK,OACxB,yBACIC,QAASD,EAAMC,QACfC,MAAO,CAAEC,gBAAiB,OAAQC,YAAa,KAE/C,yBAAKC,UAAU,OAAOH,MAAO,CAAEI,QAAS,OAAQC,OAAQ,OAAQC,WAAY,OAAQC,SAAU,WAAYC,aAAc,IACpH,yBAAKR,MAAO,CAAES,KAAM,IAAMC,SAAU,SAAUC,aAAc,WAAYC,WAAY,WAAad,EAAMe,UACvG,yBAAKb,MAAO,CAAGS,KAAM,GAAIK,UAAW,OAAQC,MAAO,OAAQC,YAAa,KAAOlB,EAAMmB,UAK7FC,EAAe,GAEfC,EAAeC,EAAQ,KASrBC,EAPLC,aACG,SAAAC,GACI,MAAO,CACHC,SAASD,EAAME,MAAM,CAAC,UAAU,gB,eAKxC,WAAY3B,GAAQ,IAAD,8BACf,4CAAMA,KAUV4B,YAAY,WAAK,IAETF,EACA,EAAK1B,MADL0B,SAGR,GAA2B,IAAxB,EAAKD,MAAMI,YAAgB,CAC1B,IAAIC,EAEAC,EACDD,EAAIV,EAAaY,QAAO,SAAAC,GACnB,OAAOA,EAAMA,OAAQ,EAAKR,MAAMI,YAAY,MAGpDK,QAAQC,IAAIL,GACZ,EAAKL,MAAMW,aAAaC,KAAKP,EAAG,GAAGQ,OAE7BR,EAAG,GAAGf,SAASiB,QAAO,SAAAO,GAEpB,OADAL,QAAQC,IAAII,GACLA,EAAIN,OAAQ,EAAKR,MAAMI,YAAY,MAE/CW,KAAI,SAACC,EAAIC,GACR,EAAKjB,MAAMW,aAAaC,KAAKI,EAAIH,OAEjCP,EAAGU,EAAI1B,SAASiB,QAAO,SAAAO,GAEnB,OADAL,QAAQC,IAAII,GACLA,EAAIN,OAAQ,EAAKR,MAAMI,YAAY,SAGlDE,EAAGS,KAAI,SAACP,EAAMS,GACV,EAAKjB,MAAMW,aAAaC,KAAKJ,EAAMK,UAEvC,IAAIK,EAAY,EAAKlB,MAAMW,aAAaQ,WACxCV,QAAQC,IAAIQ,GAGhBjB,EAASmB,WAAWF,EACpBjB,EAASoB,KAAK,EAAKC,cAActB,MAAMQ,MACvCP,EAASsB,IAAI,EAAKC,SAASxB,MAAMQ,MACjCP,EAASwB,eAAiB,EAAKC,QAAQ1B,MAAMQ,MAC7CP,EAAS0B,OAAOC,eAAeD,OAC/B1B,EAAS4B,QAAQX,EAAY,IAAI,EAAKQ,QAAQ1B,MAAMQ,MACpDC,QAAQC,IAAIT,GAEZ6B,IAAMC,KAAK,oBAAoB9B,GAAU+B,MAAK,SAAAC,GACrCA,EAAIC,KAAKC,MAEV,EAAK5D,MAAM6D,QAAQxB,KAAK,cAvD5B,EAAKZ,MAAQ,CACTI,YAAa,GACbO,aAAa,IAJF,E,mHAgET,IAAD,OAGD0B,KAAK9D,MADL0B,SAgCJ,OA7BAqC,OAAOC,KAAK3C,GAAc4C,SAAQ,SAACC,GAC/B,IAAIC,EAAa,GACbC,EAAa,GACjBD,EAAWlC,MAAQZ,EAAa6C,GAAOG,KACvCF,EAAW7B,MAAQjB,EAAa6C,GAAOpB,KACvCqB,EAAWpD,SAAW,GACtB,IAAI4C,EAAOtC,EAAa6C,GAAOI,OAC/BP,OAAOC,KAAKL,GAAMM,SAAQ,SAACC,GACvBE,EAAWnC,MAAQ0B,EAAKO,GAAOG,KAC/BD,EAAW9B,MAAQqB,EAAKO,GAAOpB,KAC/BsB,EAAWrD,SAAW,GACtB,IAAIwD,EAAQZ,EAAKO,GAAOM,UACpBC,EAAa,CACjBA,SAAsB,IACtBV,OAAOC,KAAKO,GAAON,SAAQ,SAACC,GACxBO,EAAWxC,MAAQiC,EACnBO,EAAWnC,MAAQiC,EAAML,GACzBE,EAAWrD,SAASsB,KAAKoC,GACzBA,EAAa,MAEjBN,EAAWpD,SAASsB,KAAK+B,GACzBA,EAAa,MAEjBhD,EAAaiB,KAAK8B,MAOlB,6BACI,kBAAC,IAAD,CAAMO,MAAM,2BAAOC,MAAM,EAAMC,QAAQ,IACvC,2BACI,uBAEIC,OAAK,EACLC,YAAY,6BACZC,IAAK,SAAAC,GAAE,OAAI,EAAKjC,cAAgBiC,IAJpC,sBAMA,uBAEIH,OAAK,EACLC,YAAY,qEACZC,IAAK,SAAAC,GAAE,OAAI,EAAK/B,SAAW+B,IAJ/B,sBAMA,uBACIN,MAAM,2BACNvD,MAAM,mCACNwC,KAAMvC,EACNa,MAAO6B,KAAKrC,MAAMI,YAClBoD,SAAU,SAAAC,GAAC,OAAI,EAAKC,SAAS,CAAEtD,YAAaqD,KAC5CE,KAAM,SAAAF,GAAC,OAAI,EAAKC,SAAS,CAAEtD,YAAaqD,KACxCjF,QAAS,WAAQiC,QAAQC,IAAI,QAG7B,kBAACpC,EAAD,CAAgBM,UAAU,cAA1B,uBAGJ,uBAEIwE,OAAK,EACLC,YAAY,6CACZC,IAAK,SAAAC,GAAE,OAAI,EAAK7B,QAAU6B,IAJ9B,4BAOA,sBAAMK,KAAN,KACI,yBACInF,MAAO,CAAEoF,MAAO,OAAQrE,MAAO,UAAWD,UAAW,UACrDf,QAAS6D,KAAKlC,aAFlB,mC,GAxIF2D,e,EAoJPhE","file":"static/js/27.55ff601f.chunk.js","sourcesContent":["import \"./index.scss\"\r\nimport React, { Component } from \"react\";\r\nimport Head from \"~/components/head\"\r\nimport { connect } from \"react-redux\"\r\nimport { getAddress } from \"../../actions\";\r\nimport {axios} from \"&\"\r\nimport { List, InputItem, WhiteSpace, Picker } from 'antd-mobile';\r\nconst CustomChildren = props => (\r\n    <div\r\n        onClick={props.onClick}\r\n        style={{ backgroundColor: '#fff', paddingLeft: 15 }}\r\n    >\r\n        <div className=\"test\" style={{ display: 'flex', height: '45px', lineHeight: '45px', position: 'relative', borderBottom: 0 }}>\r\n            <div style={{ flex: 0.28, overflow: 'hidden', textOverflow: 'ellipsis', whiteSpace: 'nowrap' }}>{props.children}</div>\r\n            <div style={{  flex: 0.8,textAlign: 'left', color: '#999', marginRight: 15 }}>{props.extra}</div>\r\n        </div>\r\n    </div>\r\n);\r\n\r\nlet antdDistrict = [];\r\n\r\nlet districtData = require('&/area.json');\r\n\r\n@connect(\r\n    state => {\r\n        return {\r\n            userList:state.getIn(['address','userList'])\r\n        }\r\n    }\r\n)\r\nclass Address extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            pickerValue: [],\r\n            bingAddress1:[],\r\n            \r\n        };\r\n    }\r\n    componentDidMount(){\r\n        \r\n    }\r\n    handleClick=()=>{\r\n        const {\r\n            userList\r\n        } = this.props\r\n       \r\n    if(this.state.pickerValue!=''){\r\n        var a1;\r\n        var a2;\r\n        var a3\r\n           a1= antdDistrict.filter(value=>{\r\n                return value.value== this.state.pickerValue[0]\r\n            })\r\n                            \r\n        console.log(a1)\r\n        this.state.bingAddress1.push(a1[0].label)\r\n           \r\n          a2= a1[0].children.filter(val=>{\r\n                console.log(val)\r\n                return val.value== this.state.pickerValue[1]\r\n            })\r\n        a2.map((ixx,i)=>{\r\n            this.state.bingAddress1.push(ixx.label)\r\n   \r\n            a3=ixx.children.filter(val=>{\r\n                console.log(val)\r\n                return val.value== this.state.pickerValue[2]\r\n            })\r\n        })\r\n        a3.map((value,i)=>{\r\n            this.state.bingAddress1.push(value.label)\r\n        })\r\n        var bingAddress=this.state.bingAddress1.toString()\r\n        console.log(bingAddress)\r\n      \r\n    }\r\n    userList.bigaddress=bingAddress\r\n    userList.name=this.autoFocusInst.state.value\r\n    userList.tel=this.inputRef.state.value\r\n    userList.xiangXiAddress = this.xiangxi.state.value\r\n    userList.mobile=sessionStorage.mobile\r\n    userList.address=bingAddress+' '+this.xiangxi.state.value\r\n    console.log(userList) \r\n    \r\n    axios.post('/react/addAddress',userList).then(res=>{\r\n        if(!!res.data.type){\r\n\r\n            this.props.history.push('/dizhi')\r\n       \r\n        }else{\r\n           \r\n        }\r\n    })\r\n    }\r\n    render() {\r\n        const {\r\n            userList\r\n        } = this.props\r\n\r\n        Object.keys(districtData).forEach((index) => {\r\n            let itemLevel1 = {};\r\n            let itemLevel2 = {};\r\n            itemLevel1.value = districtData[index].code;\r\n            itemLevel1.label = districtData[index].name;\r\n            itemLevel1.children = [];\r\n            let data = districtData[index].cities;\r\n            Object.keys(data).forEach((index) => {\r\n                itemLevel2.value = data[index].code;\r\n                itemLevel2.label = data[index].name;\r\n                itemLevel2.children = [];\r\n                let data2 = data[index].districts;\r\n                let itemLevel3 = {};\r\n                itemLevel3.children = [];\r\n                Object.keys(data2).forEach((index) => {\r\n                    itemLevel3.value = index;\r\n                    itemLevel3.label = data2[index];\r\n                    itemLevel2.children.push(itemLevel3);\r\n                    itemLevel3 = {};\r\n                });\r\n                itemLevel1.children.push(itemLevel2);\r\n                itemLevel2 = {};\r\n            });\r\n            antdDistrict.push(itemLevel1)\r\n          \r\n\r\n        });\r\n      \r\n   \r\n        return (\r\n            <div>\r\n                <Head title=\"新增地址\" show={true} search={true}></Head>\r\n                <List >\r\n                    <InputItem\r\n\r\n                        clear\r\n                        placeholder=\"2到6位中文\"\r\n                        ref={el => this.autoFocusInst = el}\r\n                    >收货人</InputItem>\r\n                    <InputItem\r\n\r\n                        clear\r\n                        placeholder=\"请输入正确的手机号格式\"\r\n                        ref={el => this.inputRef = el}\r\n                    >手机号</InputItem>\r\n                    <Picker\r\n                        title=\"选择地区\"\r\n                        extra=\"请选择(可选)\"\r\n                        data={antdDistrict}\r\n                        value={this.state.pickerValue}\r\n                        onChange={v => this.setState({ pickerValue: v })}\r\n                        onOk={v => this.setState({ pickerValue: v })}\r\n                        onClick={() => { console.log('xx') }}\r\n                    >\r\n\r\n                        <CustomChildren className=\"a-childOne\">省市区</CustomChildren>\r\n\r\n                    </Picker>\r\n                    <InputItem\r\n\r\n                        clear\r\n                        placeholder=\"请输入详细地址\"\r\n                        ref={el => this.xiangxi = el}\r\n                    >详细地址\r\n                    </InputItem>\r\n                    <List.Item>\r\n                        <div\r\n                            style={{ width: '100%', color: '#1b522d', textAlign: 'center' }}\r\n                            onClick={this.handleClick}\r\n                        >\r\n                            确认新增\r\n                        </div>\r\n                    </List.Item>\r\n                </List>\r\n            </div>\r\n        )\r\n    }\r\n}\r\nexport default Address;"],"sourceRoot":""}
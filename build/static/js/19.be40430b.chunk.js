(this["webpackJsonpreact-app"]=this["webpackJsonpreact-app"]||[]).push([[19],{271:function(e,t,a){"use strict";var n,r,o,i,l,c,s,u,m=a(13),d=a.n(m),f=a(45),p=a(14),h=a(46),b=(a(129),a(8)),v=a(10),g=(n=function e(){Object(p.a)(this,e),Object(f.a)(this,"goodList",r,this),Object(f.a)(this,"commentList",o,this),Object(f.a)(this,"comments",i,this),Object(f.a)(this,"getGoodList",l,this),Object(f.a)(this,"getComment",c,this),Object(f.a)(this,"getCommentList",s,this),Object(f.a)(this,"addComment",u,this)},r=Object(h.a)(n.prototype,"goodList",[b.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),o=Object(h.a)(n.prototype,"commentList",[b.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),i=Object(h.a)(n.prototype,"comments",[b.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),l=Object(h.a)(n.prototype,"getGoodList",[b.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){var a;return d.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,d.a.awrap(v.a.get(t));case 2:a=n.sent,e.goodList=a.data.result,console.log(e.goodList);case 5:case"end":return n.stop()}}))}}}),c=Object(h.a)(n.prototype,"getComment",[b.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){var a;return d.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,d.a.awrap(v.a.get(t));case 2:a=n.sent,e.comments=a.data.result,console.log(e.comments);case 5:case"end":return n.stop()}}))}}}),s=Object(h.a)(n.prototype,"getCommentList",[b.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){return e.goodList.forEach((function(a,n){n==t&&(e.commentList=a)}))}}}),u=Object(h.a)(n.prototype,"addComment",[b.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(e,t){v.a.post("/react/addComment",{comment:e,commentList:t}).then((function(e){}))}}}),n);t.a=new g},278:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=t.canUseDOM=!("undefined"===typeof window||!window.document||!window.document.createElement);t.IS_IOS=n&&/iphone|ipad|ipod/i.test(window.navigator.userAgent)},434:function(e,t,a){"use strict";a(29),a(86),a(435)},435:function(e,t,a){},436:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=f(a(2)),r=f(a(12)),o=f(a(4)),i=f(a(6)),l=f(a(3)),c=f(a(5)),s=f(a(11)),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(a(0)),m=f(a(51)),d=a(278);function f(e){return e&&e.__esModule?e:{default:e}}var p=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&(a[n[r]]=e[n[r]])}return a};function h(){}var b=/[\uD800-\uDBFF][\uDC00-\uDFFF]|\n/g;var v=function(e){function t(e){(0,o.default)(this,t);var a=(0,l.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.focus=function(){a.textareaRef.focus()},a.reAlignHeight=function(){var e=a.textareaRef;e.style.height="",e.style.height=e.scrollHeight+"px"},a.onChange=function(e){var t=e.target.value;"value"in a.props?a.setState({value:a.props.value}):a.setState({value:t});var n=a.props.onChange;n&&n(t),a.componentDidUpdate()},a.onBlur=function(e){a.debounceTimeout=setTimeout((function(){document.activeElement!==a.textareaRef&&a.setState({focus:!1})}),100);var t=e.currentTarget.value;a.props.onBlur&&(setTimeout((function(){document.body&&(document.body.scrollTop=document.body.scrollTop)}),100),a.props.onBlur(t))},a.onFocus=function(e){a.debounceTimeout&&(clearTimeout(a.debounceTimeout),a.debounceTimeout=null),a.setState({focus:!0});var t=e.currentTarget.value;a.props.onFocus&&a.props.onFocus(t)},a.onErrorClick=function(){a.props.onErrorClick&&a.props.onErrorClick()},a.clearInput=function(){a.setState({value:""}),a.props.onChange&&a.props.onChange("")},a.state={focus:!1,value:e.value||e.defaultValue||""},a}return(0,c.default)(t,e),(0,i.default)(t,[{key:"componentWillReceiveProps",value:function(e){var t;"value"in e&&this.setState({value:(t=e.value,"undefined"===typeof t||null===t?"":t)})}},{key:"componentDidMount",value:function(){this.props.autoHeight&&this.reAlignHeight()}},{key:"componentDidUpdate",value:function(){this.props.autoHeight&&this.state.focus&&this.reAlignHeight()}},{key:"componentWillUnmount",value:function(){this.debounceTimeout&&(clearTimeout(this.debounceTimeout),this.debounceTimeout=null)}},{key:"render",value:function(){var e,t,a=this,o=this.props,i=o.prefixCls,l=o.prefixListCls,c=o.editable,f=o.style,h=o.clear,v=(o.children,o.error),g=o.className,y=o.count,C=o.labelNumber,O=o.title,E=(o.onErrorClick,o.autoHeight),w=(o.defaultValue,p(o,["prefixCls","prefixListCls","editable","style","clear","children","error","className","count","labelNumber","title","onErrorClick","autoHeight","defaultValue"])),x=w.disabled,j=this.state,N=j.value,k=j.focus,L=y>0&&this.props.rows>1,_=(0,s.default)(g,l+"-item",i+"-item",(e={},(0,r.default)(e,i+"-disabled",x),(0,r.default)(e,i+"-item-single-line",1===this.props.rows&&!E),(0,r.default)(e,i+"-error",v),(0,r.default)(e,i+"-focus",k),(0,r.default)(e,i+"-has-count",L),e)),T=(0,s.default)(i+"-label",(t={},(0,r.default)(t,i+"-label-2",2===C),(0,r.default)(t,i+"-label-3",3===C),(0,r.default)(t,i+"-label-4",4===C),(0,r.default)(t,i+"-label-5",5===C),(0,r.default)(t,i+"-label-6",6===C),(0,r.default)(t,i+"-label-7",7===C),t)),S=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").replace(b,"_").length}(N),F={};if(y>0)if(d.IS_IOS){var P=N?N.replace(b,"_"):"",H=P?P.split("_").length-1:0;F.maxLength=y+H-S+(N?N.length:0)}else F.maxLength=y-S+(N?N.length:0);return u.createElement("div",{className:_},O&&u.createElement("div",{className:T},O),u.createElement("div",{className:i+"-control"},u.createElement("textarea",(0,n.default)({ref:function(e){return a.textareaRef=e}},F,w,{value:N,onChange:this.onChange,onBlur:this.onBlur,onFocus:this.onFocus,readOnly:!c,style:f}))),h&&c&&N&&S>0&&u.createElement(m.default,{activeClassName:i+"-clear-active"},u.createElement("div",{className:i+"-clear",onClick:this.clearInput})),v&&u.createElement("div",{className:i+"-error-extra",onClick:this.onErrorClick}),L&&u.createElement("span",{className:i+"-count"},u.createElement("span",null,N?S:0),"/",y))}}]),t}(u.Component);t.default=v,v.defaultProps={prefixCls:"am-textarea",prefixListCls:"am-list",autoHeight:!1,editable:!0,disabled:!1,placeholder:"",clear:!1,rows:1,onChange:h,onBlur:h,onFocus:h,onErrorClick:h,error:!1,labelNumber:5},e.exports=t.default},437:function(e,t,a){},482:function(e,t,a){"use strict";a.r(t);a(86);var n,r=a(63),o=a.n(r),i=(a(128),a(44)),l=a.n(i),c=(a(434),a(436)),s=a.n(c),u=a(14),m=a(19),d=a(23),f=a(15),p=a(22),h=(a(437),a(0)),b=a.n(h),v=a(85),g=a(271),y=a(88),C=Object(y.a)(n=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(d.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).state={value:3},a.handleChange=function(e){a.setState({value:e})},a.onClick=function(){a.textarea.state.value?(g.a.addComment(a.textarea.state.value,g.a.commentList),a.props.history.push("./commentlist")):console.log(66)},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this,t=g.a.commentList;return b.a.createElement("div",null,b.a.createElement(v.a,{title:"\u53d1\u8868\u8bc4\u8bba",show:!0,search:!0}),b.a.createElement("div",{className:"d-box"},b.a.createElement("img",{src:t.image,className:"d-img"}),b.a.createElement("p",{className:"d-name"},t.name),b.a.createElement("p",{className:"d-desc"},t.description),b.a.createElement("p",{className:"d-oldPrice"},"\u539f\u4ef7\uff1a",b.a.createElement("span",null,"\xa5",t.oldPrice,".00")),b.a.createElement("p",{className:"d-pbox"},b.a.createElement("span",{className:"d-price"},"\xa5",t.price,".00"),b.a.createElement("span",{className:"d-sell"},"\u5df2\u552e",t.sellCount,"\u4efd"))),b.a.createElement(o.a,{renderHeader:function(){return"\u53d1\u8868\u4f60\u7684\u8bc4\u8bba"},className:"aa-addBox"},b.a.createElement(s.a,{className:"aa-add",ref:function(t){return e.textarea=t},onChange:this.onChange,rows:5,count:100}),b.a.createElement(l.a,{className:"cc-button",inline:!0,onClick:this.onClick},"\u63d0\u4ea4\u8bc4\u8bba")))}}]),t}(h.Component))||n;t.default=C}}]);
//# sourceMappingURL=19.be40430b.chunk.js.map
{"version":3,"sources":["../node_modules/_antd-mobile@2.3.1@antd-mobile/lib/wing-blank/style/css.js","../node_modules/_antd-mobile@2.3.1@antd-mobile/lib/wing-blank/index.js","../node_modules/_antd-mobile@2.3.1@antd-mobile/lib/white-space/style/css.js","../node_modules/_antd-mobile@2.3.1@antd-mobile/lib/white-space/index.js","scripts/views/login/index.js"],"names":["require","Object","defineProperty","exports","value","_classCallCheck3","_interopRequireDefault","_createClass3","_possibleConstructorReturn3","_inherits3","_classnames2","React","obj","__esModule","newObj","key","prototype","hasOwnProperty","call","_interopRequireWildcard","WingBlank","_React$Component","this","__proto__","getPrototypeOf","apply","arguments","_props","props","prefixCls","size","className","children","style","wrapCls","createElement","Component","defaultProps","module","WhiteSpace","onClick","mReg","cReg","timer","Login","handleCheckMobile","mobile","code","state","toggle","setState","codeFlag","test","loginFlag","handleChangeCode","start","count","txt","clearInterval","computedTime","setInterval","handleSendCode","axios","post","then","res","handleSubmit","data","type","sessionStorage","token","history","push","title","show","login","search","clear","placeholder","ref","el","onChange","inline","disabled"],"mappings":"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","file":"static/js/17.33805838.chunk.js","sourcesContent":["'use strict';\n\nrequire('../../style/css');\n\nrequire('./index.css');","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _classnames = require('classnames');\n\nvar _classnames2 = _interopRequireDefault(_classnames);\n\nvar _react = require('react');\n\nvar React = _interopRequireWildcard(_react);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj['default'] = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar WingBlank = function (_React$Component) {\n    (0, _inherits3['default'])(WingBlank, _React$Component);\n\n    function WingBlank() {\n        (0, _classCallCheck3['default'])(this, WingBlank);\n        return (0, _possibleConstructorReturn3['default'])(this, (WingBlank.__proto__ || Object.getPrototypeOf(WingBlank)).apply(this, arguments));\n    }\n\n    (0, _createClass3['default'])(WingBlank, [{\n        key: 'render',\n        value: function render() {\n            var _props = this.props,\n                prefixCls = _props.prefixCls,\n                size = _props.size,\n                className = _props.className,\n                children = _props.children,\n                style = _props.style;\n\n            var wrapCls = (0, _classnames2['default'])(prefixCls, prefixCls + '-' + size, className);\n            return React.createElement(\n                'div',\n                { className: wrapCls, style: style },\n                children\n            );\n        }\n    }]);\n    return WingBlank;\n}(React.Component);\n\nexports['default'] = WingBlank;\n\nWingBlank.defaultProps = {\n    prefixCls: 'am-wingblank',\n    size: 'lg'\n};\nmodule.exports = exports['default'];","'use strict';\n\nrequire('../../style/css');\n\nrequire('./index.css');","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _classnames = require('classnames');\n\nvar _classnames2 = _interopRequireDefault(_classnames);\n\nvar _react = require('react');\n\nvar React = _interopRequireWildcard(_react);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj['default'] = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar WhiteSpace = function (_React$Component) {\n    (0, _inherits3['default'])(WhiteSpace, _React$Component);\n\n    function WhiteSpace() {\n        (0, _classCallCheck3['default'])(this, WhiteSpace);\n        return (0, _possibleConstructorReturn3['default'])(this, (WhiteSpace.__proto__ || Object.getPrototypeOf(WhiteSpace)).apply(this, arguments));\n    }\n\n    (0, _createClass3['default'])(WhiteSpace, [{\n        key: 'render',\n        value: function render() {\n            var _props = this.props,\n                prefixCls = _props.prefixCls,\n                size = _props.size,\n                className = _props.className,\n                style = _props.style,\n                onClick = _props.onClick;\n\n            var wrapCls = (0, _classnames2['default'])(prefixCls, prefixCls + '-' + size, className);\n            return React.createElement('div', { className: wrapCls, style: style, onClick: onClick });\n        }\n    }]);\n    return WhiteSpace;\n}(React.Component);\n\nexports['default'] = WhiteSpace;\n\nWhiteSpace.defaultProps = {\n    prefixCls: 'am-whitespace',\n    size: 'md'\n};\nmodule.exports = exports['default'];","import \"./index.scss\"\r\nimport React, {Component} from \"react\"\r\nimport { \r\n    Button, \r\n    WhiteSpace, \r\n    WingBlank ,\r\n    NoticeBar,\r\n    List ,\r\n    InputItem,\r\n} from 'antd-mobile';\r\nimport Head from \"~/components/head\"\r\nimport {axios} from \"&\";\r\n\r\nexport const mReg = /^1(3|5|6|7|8|9)\\d{9}$/;\r\nexport const cReg = /^\\d{6}$/\r\nvar timer = null\r\nexport default class Login extends Component{\r\n    constructor(props){\r\n        super(props)\r\n        this.state={\r\n            codeFlag:false,\r\n            loginFlag:false,\r\n            count:60,\r\n            txt:\"发送验证码\",\r\n            toggle:true\r\n        }\r\n    }\r\n    handleCheckMobile=(mobile)=>{\r\n        var code = this.code.state.value\r\n        if(this.state.toggle){\r\n            this.setState({\r\n                codeFlag:mReg.test(mobile),\r\n                loginFlag:cReg.test(mobile)&&cReg.test(code)\r\n            })\r\n        }\r\n    }\r\n    handleChangeCode=(code)=>{\r\n        var mobile = this.mobile.state.value;\r\n        this.setState({\r\n            loginFlag:mReg.test(mobile)&&cReg.test(code)\r\n        })\r\n    }\r\n    start=()=>{\r\n        if(this.state.count>1){\r\n            this.setState({\r\n                count:--this.state.count,\r\n                txt:`${this.state.count}s后发送`,\r\n                codeFlag:false,\r\n                toggle:false\r\n            })\r\n        }else{\r\n            clearInterval(timer);\r\n            timer=null\r\n            this.setState({\r\n                count:60,\r\n                txt:'发送验证码',\r\n                codeFlag:true,\r\n                toggle:true\r\n            })\r\n        }\r\n    }\r\n    computedTime=()=>{\r\n        this.start()\r\n        timer = setInterval(this.start,1000);\r\n    }\r\n    handleSendCode=()=>{\r\n        this.computedTime()\r\n        axios.post(\"/react/aly/sendSms\",{\r\n            mobile:this.mobile.state.value\r\n        }).then(res=>{\r\n\r\n        })\r\n    }\r\n    handleSubmit=()=>{\r\n        axios.post('/react/checkCode',{\r\n            mobile:this.mobile.state.value,\r\n            code:this.code.state.value\r\n        }).then(res=>{\r\n            if(!!res.data.type){\r\n                sessionStorage.token = res.data.token;\r\n                sessionStorage.mobile = this.mobile.state.value;\r\n                clearInterval(timer);\r\n                timer=null\r\n                this.props.history.push(\"/main/mine\");\r\n                \r\n                \r\n            }else{\r\n                sessionStorage.token = \"\";\r\n                sessionStorage.mobile=\"\"\r\n            }\r\n        })\r\n    }\r\n\r\n    render(){\r\n        const {\r\n            codeFlag,\r\n            loginFlag,\r\n            txt\r\n        } = this.state\r\n        return (\r\n            <div className=\"bigbox\">\r\n                <Head title=\"验证码登录\" show={true} login={true} search={true}/>\r\n                <div className=\"l-box\">\r\n                <WingBlank>\r\n                    <List>\r\n                        <WhiteSpace/>\r\n                        <InputItem\r\n                            type=\"tel\"\r\n                            clear\r\n                            placeholder=\"请输入手机号\"\r\n                            ref={el => this.mobile = el}\r\n                            onChange={this.handleCheckMobile}\r\n                             >手机号</InputItem>\r\n                        <WhiteSpace/>\r\n                        <InputItem\r\n                            type=\"number\"\r\n                            \r\n                            placeholder=\"请输入验证码\"\r\n                            ref={el => this.code = el}\r\n                            onChange={this.handleChangeCode}\r\n                            >验证码</InputItem>\r\n                        <Button\r\n                        className=\"l-btn\" \r\n                        inline \r\n                        size=\"small\"\r\n                        disabled={!codeFlag}\r\n                        onClick={this.handleSendCode}\r\n                        >{txt}</Button>\r\n                            <WhiteSpace/>\r\n                            <Button \r\n                            disabled={!loginFlag}\r\n                            onClick={this.handleSubmit}\r\n                            className=\"toLogin\"\r\n                            >立即登录</Button>\r\n                    </List>\r\n                </WingBlank>\r\n                </div>\r\n                \r\n                \r\n            </div>\r\n        )\r\n    }\r\n}"],"sourceRoot":""}